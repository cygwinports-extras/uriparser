--- origsrc/uriparser-0.7.2/lib/UriRecompose.c	2008-08-31 21:36:42.000000000 -0500
+++ src/uriparser-0.7.2/lib/UriRecompose.c	2008-09-23 22:42:55.611202800 -0500
@@ -84,6 +84,20 @@
 
 
 
+#if defined(__CYGWIN__) && defined(URI_PASS_UNICODE)
+static int swprintf(wchar_t *ws, size_t n, const wchar_t* format, const unsigned char value) {
+	int len = wcslen(ws) + 1;
+	char str[len];
+	wcstombs(str, ws, len);
+	len = wcslen(format) + 1;
+	char str_format[len];
+	wcstombs(str_format, format, len);
+	return snprintf(str, n, str_format, value);
+}
+#endif
+
+
+
 static URI_INLINE int URI_FUNC(ToStringEngine)(URI_CHAR * dest,
 		const URI_TYPE(Uri) * uri, int maxChars, int * charsWritten,
 		int * charsRequired) {
--- origsrc/uriparser-0.7.2/test/test.cpp	2008-08-31 21:36:24.000000000 -0500
+++ src/uriparser-0.7.2/test/test.cpp	2008-09-23 22:59:56.893691800 -0500
@@ -843,7 +843,7 @@
 			wchar_t expectedUriText[1024 * 8];
 			uriToStringW(transformedUriText, &transformedUri, 1024 * 8, NULL);
 			uriToStringW(expectedUriText, &expectedUri, 1024 * 8, NULL);
-			wprintf(L"\n\n\nExpected: \"%s\"\nReceived: \"%s\"\n\n\n", expectedUriText, transformedUriText);
+			//wprintf(L"\n\n\nExpected: \"%s\"\nReceived: \"%s\"\n\n\n", expectedUriText, transformedUriText);
 		}
 
 		uriFreeUriMembersW(&baseUri);
@@ -938,7 +938,7 @@
 		// Compare
 		bool equals = (0 == wcscmp(shouldbeTheSame, text));
 		if (!equals) {
-			wprintf(L"\n\n\nExpected: \"%s\"\nReceived: \"%s\"\n\n\n", text, shouldbeTheSame);
+			//wprintf(L"\n\n\nExpected: \"%s\"\nReceived: \"%s\"\n\n\n", text, shouldbeTheSame);
 		}
 
 		// Back to string, _exact_ limit
